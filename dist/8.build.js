webpackJsonp([8],{147:function(e,a,t){"use strict";function r(e){t(148)}var s=t(150),i=t(6),n=r,o=i(null,s.a,!1,n,"data-v-39acc826",null);a.a=o.exports},148:function(e,a,t){var r=t(149);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t(5)("4d5a638c",r,!0,{})},149:function(e,a,t){a=e.exports=t(2)(!1),a.push([e.i,".a-spinner[data-v-39acc826]{position:relative;top:0;left:50%;transform:translateX(-50%);width:10%;height:auto;margin:5% 0 3%;color:#232429}.a-spinner svg[data-v-39acc826]{width:100%;height:100%}",""])},150:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"a-spinner"},[t("icon",{attrs:{name:"spinner",pulse:""}})],1)},s=[],i={render:r,staticRenderFns:s};a.a=i},178:function(e,a,t){"use strict";(function(e){var r=t(3),s=t(10),i=t(223),n=t(147);a.a={mixins:[s.b,s.a],data:function(){return{activeWrapperItem:"users",loading:!1,searchRes:[],searchQuery:"",delay:function(){var e=0;return function(a,t){clearTimeout(e),e=setTimeout(a,t)}}()}},computed:{token:function(){return this.$store.getters["login/token"]}},methods:{search:function(a){var t=this;t.delay(function(){t.searchRes=[];var s=e(a.target).val().length;if("keyup"===a.type&&s<3)return!1;13!==a.keyCode&&(t.loading=!0,r.d.get("search/"+t.activeWrapperItem+"/?q="+encodeURIComponent(t.searchQuery),{headers:{Authorization:"Bearer "+t.token}}).then(function(e){if(console.log(e),e.data.data.length>0){for(var a=0;a<e.data.data.length;a++)t.searchRes.push(e.data.data[a]);t.loading=!1}else t.loading=!1,console.log("empty array")}).catch(function(e){console.log(e)}))},300)},activate:function(a){var t=e(a.target);this.searchRes=[],this.searchQuery="",this.loading=!1,t.hasClass("js-people")?this.activeWrapperItem="users":t.hasClass("js-email")?this.activeWrapperItem="email":t.hasClass("js-tags")&&(this.activeWrapperItem="hashtags");var r=e(".c-form-input");setTimeout(function(){r.focus()},100)}},components:{appSpinner:n.a,appSearchResItem:i.a},created:function(){this.windowWidth>this.breakpoint?(this.$store.dispatch("headings/actSetHeading","photogram"),e("body").removeClass("u-overflow-disabled")):this.$store.dispatch("headings/actSetHeading","Search")},mounted:function(){var a=e(".c-form-input");setTimeout(function(){a.focus()},100)}}}).call(a,t(28))},179:function(e,a,t){"use strict";var r=t(10);a.a={mixins:[r.b],props:["searchResItem","activeWrapperItem"],data:function(){return{searchedItem:this.searchResItem}},computed:{token:function(){return this.$store.getters["login/token"]},loggedUserId:function(){return this.$store.getters["login/idUser"]}},methods:{followUser:function(){var e=this,a=this.searchedItem.id;this.$store.dispatch("nfPosts/followUser",a).then(function(a){e.searchedItem.auth_follow=!0}).catch(function(e){console.log(e)})},unfollowUser:function(){var e=this,a=this.searchedItem.id;this.$store.dispatch("nfPosts/unfollowUser",a).then(function(a){e.searchedItem.auth_follow=!1}).catch(function(e){console.log(e)})}}}},221:function(e,a,t){var r=t(222);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t(5)("f9fa7450",r,!0,{})},222:function(e,a,t){a=e.exports=t(2)(!1),a.push([e.i,".o-search[data-v-5857559a]{width:100%;height:100vh;background-color:#fff}.o-search__content[data-v-5857559a]{font-family:Roboto,sans-serif;overflow:hidden;padding-top:4.76rem;padding-bottom:4.2rem}@media (min-width:768px){.o-search__content[data-v-5857559a]{width:65rem;margin:0 auto;padding-top:7.8rem}}.o-search__nav[data-v-5857559a]{width:100%;padding-top:1.5rem;padding-left:6rem}@media (min-width:768px){.o-search__nav[data-v-5857559a]{position:fixed;background-color:#fff;width:65rem;padding-top:6.5rem;padding-left:0;border-bottom:1px solid hsla(204,2%,59%,.5)}}.o-search__nav-ul[data-v-5857559a]{overflow-x:auto;white-space:nowrap;padding-bottom:1.4rem}@media (min-width:768px){.o-search__nav-ul[data-v-5857559a]{width:100%;display:flex;justify-content:space-evenly}}.o-search__nav-li[data-v-5857559a]{display:inline;color:#232429;text-transform:uppercase;margin-right:2rem;cursor:pointer}@media (max-width:767px){.o-search__nav-li[data-v-5857559a]{font-size:1.4rem}}@media (min-width:768px){.o-search__nav-li[data-v-5857559a]{font-size:2rem}}@media (max-width:767px){.o-search__nav-li[data-v-5857559a]{line-height:1.7rem}}@media (min-width:768px){.o-search__nav-li[data-v-5857559a]{line-height:2.4rem;margin-right:0}}.o-search__nav-li.is-active[data-v-5857559a]{color:#09f3a2}@media (min-width:768px){.o-search__wrapper[data-v-5857559a]{padding-top:10rem;margin:0 auto}}.o-search__form-field[data-v-5857559a]{border-top:1px solid hsla(204,2%,59%,.5);border-bottom:1px solid hsla(204,2%,59%,.5);padding:.5rem 2rem}@media (min-width:768px){.o-search__form-field[data-v-5857559a]{border-top:none;padding:2rem}}",""])},223:function(e,a,t){"use strict";function r(e){t(224)}var s=t(179),i=t(226),n=t(6),o=r,c=n(s.a,i.a,!1,o,"data-v-48d3e2aa",null);a.a=c.exports},224:function(e,a,t){var r=t(225);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t(5)("8da18266",r,!0,{})},225:function(e,a,t){a=e.exports=t(2)(!1),a.push([e.i,".m-search-item[data-v-48d3e2aa]:last-child{margin-bottom:1rem}.m-search-item__user-img[data-v-48d3e2aa]{display:inline-block;width:4.1rem;height:4.1rem;margin-top:.9rem;margin-left:1.5rem;cursor:pointer}@media (min-width:768px){.m-search-item__user-img[data-v-48d3e2aa]{width:4.6rem;height:4.6rem;margin-top:4.8rem;margin-left:3.5rem}}.m-search-item__user-img img[data-v-48d3e2aa]{width:100%;height:100%;border-radius:50%}.m-search-item__content[data-v-48d3e2aa]{display:inline-block;width:55%;margin-top:2.2rem;margin-left:.6rem;vertical-align:top}@media (max-width:767px){.m-search-item__content[data-v-48d3e2aa]{font-size:1.4rem}}@media (min-width:768px){.m-search-item__content[data-v-48d3e2aa]{font-size:1.6rem}}@media (max-width:767px){.m-search-item__content[data-v-48d3e2aa]{line-height:1.7rem}}@media (min-width:768px){.m-search-item__content[data-v-48d3e2aa]{line-height:1.9rem;width:60%;margin-top:6rem}}.m-search-item__username[data-v-48d3e2aa]{font-family:Roboto-Bold,sans-serif;cursor:pointer}.m-search-item__txt[data-v-48d3e2aa]{display:inline}.m-search-item__txt.is-hashtag[data-v-48d3e2aa]{padding:0 1.5rem}.m-search-item__button[data-v-48d3e2aa]{float:right;padding-top:1.7rem;padding-right:1rem}@media (min-width:768px){.m-search-item__button[data-v-48d3e2aa]{padding-top:5.1rem;padding-right:2rem}}.m-search-item__btn[data-v-48d3e2aa]{font-family:Roboto,sans-serif;color:#fff;border-radius:30px;cursor:pointer}@media (max-width:767px){.m-search-item__btn[data-v-48d3e2aa]{font-size:1rem}}@media (min-width:768px){.m-search-item__btn[data-v-48d3e2aa]{font-size:2rem}}@media (max-width:767px){.m-search-item__btn[data-v-48d3e2aa]{line-height:1.2rem}}@media (min-width:768px){.m-search-item__btn[data-v-48d3e2aa]{line-height:2.4rem}}.m-search-item__btn--follow[data-v-48d3e2aa]{background-color:#232429;padding:.5rem 1.4rem}@media (min-width:768px){.m-search-item__btn--follow[data-v-48d3e2aa]{padding:.5rem 2rem}}.m-search-item__btn--unfollow[data-v-48d3e2aa]{background-color:#95989a;padding:.5rem .9rem}",""])},226:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"m-search-item"},["users"===e.activeWrapperItem?t("router-link",{staticClass:"m-search-item__user-img",attrs:{to:{name:"user",params:{userId:e.searchedItem.id}},tag:"div"}},[t("img",{attrs:{src:e.storage+e.searchedItem.image.avatar,alt:"searched user avatar"}})]):e._e(),e._v(" "),t("div",{staticClass:"m-search-item__content"},["users"===e.activeWrapperItem?t("router-link",{staticClass:"m-search-item__username",attrs:{to:{name:"user",params:{userId:e.searchedItem.id}},tag:"span"}},[e._v("\n            "+e._s(e.searchedItem.username)+"\n        ")]):e._e(),e._v(" "),t("p",{staticClass:"m-search-item__txt",class:{"is-hashtag":"hashtags"===e.activeWrapperItem}},["users"===e.activeWrapperItem?[e._v("is found")]:e._e(),e._v(" "),"hashtags"===e.activeWrapperItem?[e._v(e._s(e.searchedItem))]:e._e()],2)],1),e._v(" "),"users"===e.activeWrapperItem?t("div",{staticClass:"m-search-item__button"},[e.searchedItem.auth_follow||e.searchedItem.id==e.loggedUserId?e._e():t("button",{staticClass:"m-search-item__btn  m-search-item__btn--follow",attrs:{type:"button"},on:{click:e.followUser}},[e._v("Follow")]),e._v(" "),e.searchedItem.auth_follow?t("button",{staticClass:"m-search-item__btn  m-search-item__btn--unfollow",attrs:{type:"button"},on:{click:e.unfollowUser}},[e._v("Unfollow")]):e._e()]):e._e()],1)},s=[],i={render:r,staticRenderFns:s};a.a=i},227:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"o-search"},[t("div",{staticClass:"o-search__content"},[t("nav",{staticClass:"o-search__nav"},[t("ul",{staticClass:"o-search__nav-ul"},[t("li",{staticClass:"o-search__nav-li  js-people",class:{"is-active":"users"===e.activeWrapperItem},on:{click:function(a){e.activate(a)}}},[e._v("People")]),e._v(" "),t("li",{staticClass:"o-search__nav-li  js-email",class:{"is-active":"email"===e.activeWrapperItem},on:{click:function(a){e.activate(a)}}},[e._v("Email")]),e._v(" "),t("li",{staticClass:"o-search__nav-li  js-tags",class:{"is-active":"hashtags"===e.activeWrapperItem},on:{click:function(a){e.activate(a)}}},[e._v("Tags")])])]),e._v(" "),t("div",{staticClass:"o-search__wrapper"},["users"===e.activeWrapperItem?t("div",{staticClass:"o-search__wrapper-item  o-search__wrapper-item--people"},[t("form",{on:{submit:function(a){a.preventDefault(),e.search(a)}}},[t("div",{staticClass:"o-search__form-field"},[t("div",{staticClass:"o-search__form-field-icon  c-form-field-icon"},[t("svg",{staticStyle:{"enable-background":"new 0 0 118.783 118.783"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 118.783 118.783","xml:space":"preserve"}},[t("g",[t("path",{attrs:{d:"M115.97,101.597L88.661,74.286c4.64-7.387,7.333-16.118,7.333-25.488c0-26.509-21.49-47.996-47.998-47.996\n                                    S0,22.289,0,48.798c0,26.51,21.487,47.995,47.996,47.995c10.197,0,19.642-3.188,27.414-8.605l26.984,26.986\n                                    c1.875,1.873,4.333,2.806,6.788,2.806c2.458,0,4.913-0.933,6.791-2.806C119.72,111.423,119.72,105.347,115.97,101.597z\n                                    M47.996,81.243c-17.917,0-32.443-14.525-32.443-32.443s14.526-32.444,32.443-32.444c17.918,0,32.443,14.526,32.443,32.444\n                                    S65.914,81.243,47.996,81.243z"}})])])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"c-form-input",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.searchQuery},on:{keyup:function(a){e.search(a)},input:function(a){a.target.composing||(e.searchQuery=a.target.value)}}})])]),e._v(" "),e._l(e.searchRes,function(a,r){return t("app-search-res-item",{key:a.id+"-"+r,staticClass:"o-search__res-item",attrs:{searchResItem:a,activeWrapperItem:e.activeWrapperItem}})}),e._v(" "),e.loading?t("app-spinner"):e._e()],2):e._e(),e._v(" "),"email"===e.activeWrapperItem?t("div",{staticClass:"o-search__wrapper-item  o-search__wrapper-item--email"},[t("form",{on:{submit:function(a){a.preventDefault(),e.search(a)}}},[t("div",{staticClass:"o-search__form-field"},[t("div",{staticClass:"o-search__form-field-icon  c-form-field-icon"},[t("svg",{staticStyle:{"enable-background":"new 0 0 118.783 118.783"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 118.783 118.783","xml:space":"preserve"}},[t("g",[t("path",{attrs:{d:"M115.97,101.597L88.661,74.286c4.64-7.387,7.333-16.118,7.333-25.488c0-26.509-21.49-47.996-47.998-47.996\n                                    S0,22.289,0,48.798c0,26.51,21.487,47.995,47.996,47.995c10.197,0,19.642-3.188,27.414-8.605l26.984,26.986\n                                    c1.875,1.873,4.333,2.806,6.788,2.806c2.458,0,4.913-0.933,6.791-2.806C119.72,111.423,119.72,105.347,115.97,101.597z\n                                    M47.996,81.243c-17.917,0-32.443-14.525-32.443-32.443s14.526-32.444,32.443-32.444c17.918,0,32.443,14.526,32.443,32.444\n                                    S65.914,81.243,47.996,81.243z"}})])])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"c-form-input",attrs:{type:"text",placeholder:"Email"},domProps:{value:e.searchQuery},on:{keyup:function(a){e.search(a)},input:function(a){a.target.composing||(e.searchQuery=a.target.value)}}})])]),e._v(" "),e.loading?t("app-spinner"):e._e()],1):e._e(),e._v(" "),"hashtags"===e.activeWrapperItem?t("div",{staticClass:"o-search__wrapper-item  o-search__wrapper-item--tags"},[t("form",{on:{submit:function(a){a.preventDefault(),e.search(a)}}},[t("div",{staticClass:"o-search__form-field"},[t("div",{staticClass:"o-search__form-field-icon  c-form-field-icon"},[t("svg",{staticStyle:{"enable-background":"new 0 0 118.783 118.783"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 118.783 118.783","xml:space":"preserve"}},[t("g",[t("path",{attrs:{d:"M115.97,101.597L88.661,74.286c4.64-7.387,7.333-16.118,7.333-25.488c0-26.509-21.49-47.996-47.998-47.996\n                                    S0,22.289,0,48.798c0,26.51,21.487,47.995,47.996,47.995c10.197,0,19.642-3.188,27.414-8.605l26.984,26.986\n                                    c1.875,1.873,4.333,2.806,6.788,2.806c2.458,0,4.913-0.933,6.791-2.806C119.72,111.423,119.72,105.347,115.97,101.597z\n                                    M47.996,81.243c-17.917,0-32.443-14.525-32.443-32.443s14.526-32.444,32.443-32.444c17.918,0,32.443,14.526,32.443,32.444\n                                    S65.914,81.243,47.996,81.243z"}})])])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"c-form-input",attrs:{type:"text",placeholder:"Hashtag"},domProps:{value:e.searchQuery},on:{keyup:function(a){e.search(a)},input:function(a){a.target.composing||(e.searchQuery=a.target.value)}}})])]),e._v(" "),e._l(e.searchRes,function(a,r){return t("app-search-res-item",{key:a.id+"-"+r,staticClass:"o-search__res-item",attrs:{searchResItem:a,activeWrapperItem:e.activeWrapperItem}})}),e._v(" "),e.loading?t("app-spinner"):e._e()],2):e._e()])])])},s=[],i={render:r,staticRenderFns:s};a.a=i},42:function(e,a,t){"use strict";function r(e){t(221)}Object.defineProperty(a,"__esModule",{value:!0});var s=t(178),i=t(227),n=t(6),o=r,c=n(s.a,i.a,!1,o,"data-v-5857559a",null);a.default=c.exports}});
//# sourceMappingURL=8.build.js.map